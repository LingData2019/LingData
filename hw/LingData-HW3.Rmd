---
title: "HW 3. Exact binomial test"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 1. Exact binomial test

The null hypothesis is that $p=0$ (i.e. no success is possible). In a dataset, there is only one success out of 1 000 000 observations. Will you accept or reject the null hypotheses? 



## 2. Position of nouns in verses

(We have already used this dataset in class.)
The dataset [“The last words in verses”](https://raw.githubusercontent.com/LingData2019/LingData/master/data/poetry_last_in_lines.csv) contains a sample of lines taken from the RNC Corpus of Russian Poetry. Actually, there are two samples comprising the texts written in the 1820s and 1920s. We took only one line per author to keep our observations as independent as possible. 

Variables:  
- Decade — decade of creation: 1820s, 1920s.  
- RhymedNwords — the number of words in the rhyming position (usually one word, but there are two words in cases such as _вина бы_ 'I would like to get) wine' (which is rhymed with _жабы_ 'toad', see http://russian-poetry.ru/Poem.php?PoemId=18261)).  
- RhymedNsyl — the number of syllables in the rhyming position.  
- UPoS — part of speech of the last word. 
- LineText — a sampled verse.  
- Author — the author of the text.  

Can we decide that in verses written in 1920s, verbs are used in the rhyming posision more often or less often than expected for verbs in general? To calculate the probabilty to come across a verb in written Russian texts (general expectations), use the frequency dictionary of the Russian National Corpus ["https://raw.githubusercontent.com/LingData2019/LingData/master/data/freq_rnc_ranked.csv"]("https://raw.githubusercontent.com/LingData2019/LingData/master/data/freq_rnc_ranked.csv") (Lyashevskaya, Sharoff 2009). 

### 2.1 General expectations
Read the RNC frequency dictionary data. Verbs are coded as 'v' in the `PoS` field, and their frequency is shown in the `Freq.ipm.` field (relative frequency, # items per million words in the corpus). 
```{r read-rnc-dataset}

```

### 2.1.1
Calculate the probability to see verbs dividing the sum of their frequency by the sum of frequency of all words in the dictionary.   
```{r rnc-p-verbs}

```

### 2.2 State hypothesis
What is your null hypothesis $H_0$ and what is the alternative hypothesis $H_1$?
```

```

### 2.3 Analyse data
Read the dataset [“The last words in verses”](https://raw.githubusercontent.com/LingData2019/LingData/master/data/poetry_last_in_lines.csv). Filter out the relevant observations, calculate the number of verbs observed in the sample, and the sample size. 
```{r read-poetry-dataset}

```

### 2.3.1
Use an exact binomial test to calculate p-value. 
```{r p-value}

```

### 2.3.2 Interpret results

Give your interpretation of obtained p-value. Answer the initial question: Can we decide, according to the data given, that for verses written in 1920s the prepositions where used as a last word of a line more often or less often than in 0.1% of cases?
```

```

### 2.4 Verses in 1820s

Repeat 2.3 for verses written in the 1820s.
```{r 1920}

```

### 2.4.1
Write down your general conlusions about data provided for both 1920s and 1820s data
```

```

## 3. Do people agree in their judgements regarding language? 

In this fictitious experiment, you ask people to assess a certain utterance, whether some feature (interpretation, use of linguistic entity, etc.) is present or absent. Each person assesses only one utterance, and each utterance is independently assessed by two people. If both raters agree that the feature is present, you label the utterance with 1; you label it as 0 in all other cases.
Just to give you a hint, here is our example in which we ask people to assess if the use of _for example_ is correct with regards to word order:  
```
@linguist: Is it possible to say in English:
    Its influence can be seen in, _for example_, the reforms of the court service in the United Kingdom.
@rater1: yes
@rater2: yes
@linguist: Ok, then I will mark this utterance as 1.
```

1) Think of (another) interesting linguistic problem for such an experiment, describe it briefly below.
### 3.1 
```

```

2) Suggest inter-rater agreement level (i. e. to what extent people agree, say, 95% or 63%, depending you intuition about the complexity and nature of the task). Formulate your null hypothesis about the agreement level below.
### 3.2 
```

```

3) Think of the number of datapoints (i.e. utterances) you will evaluate (_n_).
### 3.3 
```{r experiment-sample-size}
#n <- 
```

4) Write down the R code that would generate a (fictitious) dataset for your experiment. The dataset _df_ consists of n points of observation (see 3.3), and each data point is labeled as 1 or 0. Use sampling to create this dataset.
### 3.4
```{r-experiment-generate-dataset}
#df <- 
```

5) Use an exact binomial test to see whether you can or cannot reject your null hypothesis. Write R code below:
### 3.5
```{r-experiment-binomial}

```

6) What type of data do the dataset _df_ present (think in terms of vectors, dataframes, continuous, categorical, etc. types of data)?
### 3.6
```

```

#### Supplementary reading

#### Use of binomial test in lingiistic research
* Gries, Stefan Th. "Phonological similarity in multi-word units." Cognitive Linguistics 22.3 (2011): 491-510. http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.186.7412&rep=rep1&type=pdf
Stefan Gries proves that alliteration is observed in multi-word expressions more often than in general.

* Harald Bayen (2008: 51-52) evaluates the probability of observing exactly one occurrence of the word _hare_ in the corpus sample of 1 mln words given its estimated frequency of 8.23 words per million according to the SELEX frequency database.

